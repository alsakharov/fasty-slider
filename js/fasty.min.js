!function(e){e.fn.fasty=function(s){return this.each(function(){e(this).addClass("fasty");for(var t,a=e.extend({start:"default",mode:"normal",appearingTime:"200"},s),f=a.appearingTime,l=a.start,i=a.mode,n=1,r=0,d=(t=e(this).find("div.fasty__slide")).length;r!=d;r++)e(t[r]).attr("data-fasty-number",n),"sameSize"==i&&"default"==l&&r<3&&(e(t[r]).addClass("fasty_visible"),0==r?e(t[r]).addClass("fasty_sS_left"):1==r?e(t[r]).addClass("fasty_sS_central"):2==r&&e(t[r]).addClass("fasty_sS_right")),"normal"==i&&"default"==l&&r<3?(e(t[r]).addClass("fasty_visible"),0==r?e(t[r]).addClass("fasty_left"):1==r?e(t[r]).addClass("fasty_central"):2==r&&e(t[r]).addClass("fasty_right")):"normal"==i&&"reversed"==l&&r>=d-3&&(e(t[r]).addClass("fasty_visible"),r==d-3?e(t[r]).addClass("fasty_left"):r==d-2?e(t[r]).addClass("fasty_central"):r==d-1&&e(t[r]).addClass("fasty_right")),n++;var m=0;e(this).find(".fasty__slide").each(function(){parseInt(e(this).css("height"))>m&&(m=parseInt(e(this).css("height")))}),e(this).css("height",m+parseInt(e(this).find(".fasty__slide").css("top"))),e(this).find(".fasty__slide").each(function(){e(this).hasClass("fasty_visible")||e(this).hide()}),"onlyRight"==i&&e(".fasty_left").hide(),"sameSize"==i&&e(".fasty__slide").css("width","25%"),console.log(e(this).find(".fasty__slide")),e(this).find(".fasty__slide").on("click",function(){$fLeft=new Object,$fRight=new Object,$fCentral=new Object,$fBeforeVisible=new Object,$fAfterVisible=new Object;var s,a,l,n;"normal"==i||"onlyRight"==i?($fCentral.num=e(this).closest(".fasty").find(".fasty_central").attr("data-fasty-number"),$fLeft.num=parseInt($fCentral.num)-1,$fRight.num=parseInt($fCentral.num)+1,$fBeforeVisible.num=parseInt($fCentral.num)-2,$fAfterVisible.num=parseInt($fCentral.num)+2,$fCentral.elem=e(this).closest(".fasty").find(".fasty_central"),$fLeft.elem=e(this).closest(".fasty").find(".fasty_left"),$fRight.elem=e(this).closest(".fasty").find(".fasty_right")):"sameSize"==i&&($fCentral.num=e(".fasty_sS_central").attr("data-fasty-number"),$fLeft.num=parseInt($fCentral.num)-1,$fRight.num=parseInt($fCentral.num)+1,$fBeforeVisible.num=parseInt($fCentral.num)-2,$fAfterVisible.num=parseInt($fCentral.num)+2,$fCentral.elem=e(".fasty_sS_central"),$fLeft.elem=e(".fasty_sS_left"),$fRight.elem=e(".fasty_sS_right")),$fBeforeVisible.elem=e(".fasty__slide[data-fasty-number="+$fBeforeVisible.num+"]"),$fAfterVisible.elem=e(".fasty__slide[data-fasty-number="+$fAfterVisible.num+"]"),s=e(this).context==$fLeft.elem[0],a=e(this).context==$fCentral.elem[0],l=e(this).context==$fRight.elem[0],n=e(this).attr("data-fasty-number")==t.length,$isFirst=e(this)[0]==t[0],"normal"==i?s?($fLeft.elem.removeClass("fasty_left").addClass("fasty_central"),$fCentral.elem.removeClass("fasty_central").addClass("fasty_right"),$fRight.elem.fadeOut(300).removeClass("fasty_right"),$fBeforeVisible.elem.addClass("fasty_left"),setTimeout(function(){$fBeforeVisible.elem.show(500)},f)):l&&($fLeft.elem.fadeOut(300).removeClass("fasty_left"),$fCentral.elem.removeClass("fasty_central").addClass("fasty_left"),$fRight.elem.removeClass("fasty_right").addClass("fasty_central"),$fAfterVisible.elem.addClass("fasty_right"),setTimeout(function(){$fAfterVisible.elem.show(500)},f)):"onlyRight"==i?(a&&n&&e(this).removeClass("fasty_central").fadeOut(300,function(){e(".fasty").find(t[1]).addClass("fasty_central").fadeIn(300),e(".fasty").find(t[2]).addClass("fasty_right").fadeIn(300)}),l&&($fCentral.elem.addClass("fasty_toLeft").fadeOut(800,function(){e(this).removeClass("fasty_toLeft")}).removeClass("fasty_central"),setTimeout(function(){$fCentral.elem.fadeOut(800).removeClass("fasty_central"),$fRight.elem.removeClass("fasty_right").addClass("fasty_central"),$fAfterVisible.elem.show(300).addClass("fasty_right")},500))):"sameSize"==i&&(s&&!$isFirst?($fLeft.elem.removeClass("fasty_sS_left").addClass("fasty_sS_central"),$fCentral.elem.removeClass("fasty_sS_central").addClass("fasty_sS_right"),$fRight.elem.fadeOut(300).removeClass("fasty_sS_right"),$fBeforeVisible.elem.addClass("fasty_sS_left"),setTimeout(function(){$fBeforeVisible.elem.show(500)},f)):l&&!n&&($fLeft.elem.fadeOut(300).removeClass("fasty_sS_left"),$fCentral.elem.removeClass("fasty_sS_central").addClass("fasty_sS_left"),$fRight.elem.removeClass("fasty_sS_right").addClass("fasty_sS_central"),$fAfterVisible.elem.addClass("fasty_sS_right"),setTimeout(function(){$fAfterVisible.elem.show(500)},f)))})})}}(jQuery);