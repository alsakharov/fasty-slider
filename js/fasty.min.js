!function(e){e.fn.fasty=function(t){e(this).addClass("fasty");for(var s,a=e.extend({start:"default",mode:"normal"},t),f=1,l=0,i=(s=e(this).find("div.fasty__slide")).length;l!=i;l++)e(s[l]).attr("data-fasty-number",f),"default"==a.start&&l<3?(e(s[l]).addClass("fasty_visible"),0==l?e(s[l]).addClass("fasty_left"):1==l?e(s[l]).addClass("fasty_central"):2==l&&e(s[l]).addClass("fasty_right")):"reversed"==a.start&&l>=i-3&&(e(s[l]).addClass("fasty_visible"),l==i-3?e(s[l]).addClass("fasty_left"):l==i-2?e(s[l]).addClass("fasty_central"):l==i-1&&e(s[l]).addClass("fasty_right")),f++;var n=0;e(this).find(".fasty__slide").each(function(){parseInt(e(this).css("height"))>n&&(n=parseInt(e(this).css("height")))}),e(this).css("height",n+parseInt(e(this).find(".fasty__slide").css("top"))),e(this).find(".fasty__slide").each(function(){e(this).hasClass("fasty_visible")||e(this).hide()}),"onlyRight"==a.mode&&e(".fasty_left").hide(),e(".fasty__slide").on("click",function(){$fLeft=new Object,$fRight=new Object,$fCentral=new Object,$fBeforeVisible=new Object,$fAfterVisible=new Object;var t,f,l,i;$fCentral.num=e(".fasty_central").attr("data-fasty-number"),$fLeft.num=parseInt($fCentral.num)-1,$fRight.num=parseInt($fCentral.num)+1,$fBeforeVisible.num=parseInt($fCentral.num)-2,$fAfterVisible.num=parseInt($fCentral.num)+2,$fCentral.elem=e(".fasty_central"),$fLeft.elem=e(".fasty_left"),$fRight.elem=e(".fasty_right"),$fBeforeVisible.elem=e(".fasty__slide[data-fasty-number="+$fBeforeVisible.num+"]"),$fAfterVisible.elem=e(".fasty__slide[data-fasty-number="+$fAfterVisible.num+"]"),t=e(this).context==$fLeft.elem[0],f=e(this).context==$fCentral.elem[0],l=e(this).context==$fRight.elem[0],i=e(this).attr("data-fasty-number")==s.length,"normal"==a.mode?t?($fLeft.elem.removeClass("fasty_left").addClass("fasty_central"),$fCentral.elem.removeClass("fasty_central").addClass("fasty_right"),$fRight.elem.fadeOut(300).removeClass("fasty_right"),$fBeforeVisible.elem.show(300).addClass("fasty_left")):l&&($fLeft.elem.fadeOut(300).removeClass("fasty_left"),$fCentral.elem.removeClass("fasty_central").addClass("fasty_left"),$fRight.elem.removeClass("fasty_right").addClass("fasty_central"),$fAfterVisible.elem.show(300).addClass("fasty_right")):"onlyRight"==a.mode&&(f&&i&&e(this).removeClass("fasty_central").fadeOut(300,function(){e(".fasty").find(s[1]).addClass("fasty_central").fadeIn(300),e(".fasty").find(s[2]).addClass("fasty_right").fadeIn(300)}),l&&($fCentral.elem.addClass("fasty_toLeft").fadeOut(800,function(){e(this).removeClass("fasty_toLeft")}).removeClass("fasty_central"),setTimeout(function(){$fCentral.elem.fadeOut(800).removeClass("fasty_central"),$fRight.elem.removeClass("fasty_right").addClass("fasty_central"),$fAfterVisible.elem.show(300).addClass("fasty_right")},500)))})}}(jQuery);