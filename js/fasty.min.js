!function(e){e.fn.fasty=function(t){e(this).addClass("fasty");for(var a,s=e.extend({start:"default",mode:"normal"},t),f=1,l=0,n=(a=e(this).find("div.fasty__slide")).length;l!=n;l++)e(a[l]).attr("data-fasty-number",f),"default"==s.start&&l<3?(e(a[l]).addClass("fasty_visible"),0==l?e(a[l]).addClass("fasty_left"):1==l?e(a[l]).addClass("fasty_central"):2==l&&e(a[l]).addClass("fasty_right")):"reversed"==s.start&&l>=n-3&&(e(a[l]).addClass("fasty_visible"),l==n-3?e(a[l]).addClass("fasty_left"):l==n-2?e(a[l]).addClass("fasty_central"):l==n-1&&e(a[l]).addClass("fasty_right")),f++;e(this).find(".fasty__slide").each(function(){e(this).hasClass("fasty_visible")||e(this).hide()}),"onlyRight"==s.mode&&e(".fasty_left").hide(),e(".fasty__slide").on("click",function(){$fLeft=new Object,$fRight=new Object,$fCentral=new Object,$fBeforeVisible=new Object,$fAfterVisible=new Object;var t,f,l,n;$fCentral.num=e(".fasty_central").attr("data-fasty-number"),$fLeft.num=parseInt($fCentral.num)-1,$fRight.num=parseInt($fCentral.num)+1,$fBeforeVisible.num=parseInt($fCentral.num)-2,$fAfterVisible.num=parseInt($fCentral.num)+2,$fCentral.elem=e(".fasty_central"),$fLeft.elem=e(".fasty_left"),$fRight.elem=e(".fasty_right"),$fBeforeVisible.elem=e(".fasty__slide[data-fasty-number="+$fBeforeVisible.num+"]"),$fAfterVisible.elem=e(".fasty__slide[data-fasty-number="+$fAfterVisible.num+"]"),t=e(this).context==$fLeft.elem[0],f=e(this).context==$fCentral.elem[0],l=e(this).context==$fRight.elem[0],n=e(this).attr("data-fasty-number")==a.length,"normal"==s.mode?t?($fLeft.elem.removeClass("fasty_left").addClass("fasty_central"),$fCentral.elem.removeClass("fasty_central").addClass("fasty_right"),$fRight.elem.fadeOut(300).removeClass("fasty_right"),$fBeforeVisible.elem.show(300).addClass("fasty_left")):l&&($fLeft.elem.fadeOut(300).removeClass("fasty_left"),$fCentral.elem.removeClass("fasty_central").addClass("fasty_left"),$fRight.elem.removeClass("fasty_right").addClass("fasty_central"),$fAfterVisible.elem.show(300).addClass("fasty_right")):"onlyRight"==s.mode&&(f&&n&&e(this).removeClass("fasty_central").fadeOut(300,function(){e(".fasty").find(a[1]).addClass("fasty_central").fadeIn(300),e(".fasty").find(a[2]).addClass("fasty_right").fadeIn(300)}),l&&($fCentral.elem.addClass("fasty_toLeft").fadeOut(800,function(){e(this).removeClass("fasty_toLeft")}).removeClass("fasty_central"),setTimeout(function(){$fCentral.elem.fadeOut(800).removeClass("fasty_central"),$fRight.elem.removeClass("fasty_right").addClass("fasty_central"),$fAfterVisible.elem.show(300).addClass("fasty_right")},500)))})}}(jQuery);